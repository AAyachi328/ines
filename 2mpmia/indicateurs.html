<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>√âtendue ‚Ä¢ Quartiles ‚Ä¢ √âcart-type ‚Ä¢ √âcart interquartile (√©ditable)</title>
  <style>
    :root{--b:#ddd;--bg:#f7f7f7}
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;line-height:1.5;margin:24px;max-width:980px}
    h1{font-size:1.6rem;margin:0 0 12px}
    h2{font-size:1.2rem;margin:22px 0 8px}
    h3{margin:0 0 8px}
    .card{border:1px solid var(--b);border-radius:12px;padding:14px 16px;margin:12px 0}
    .k{display:inline-block;padding:2px 8px;border-radius:999px;background:#f2f2f2;font-size:.9rem}
    pre, code{background:var(--bg);border-radius:10px;padding:10px;display:block;overflow:auto}
    ul{margin:8px 0 0 20px}
    table{border-collapse:collapse;width:100%;margin-top:10px}
    th,td{border:1px solid var(--b);padding:8px;text-align:left}
    th{background:#fafafa}
    .mini{font-size:.95rem;color:#333}
    .note{font-size:.92rem;color:#444}
    label{font-weight:600}
    input{width:100%;padding:10px;border-radius:10px;border:1px solid var(--b)}
    .btn{margin-top:10px;padding:10px 14px;border-radius:10px;border:1px solid var(--b);background:white;font-weight:600;cursor:pointer}
    .ok{color:#0a7a0a;font-weight:600}
    .err{color:#b00020;font-weight:600}
  </style>
</head>
<body>

<h1>üìä Indicateurs statistiques ‚Äî version √©ditable</h1>

<!-- ZONE EDITABLE -->
<div class="card">
  <span class="k">Donn√©es √† √©diter</span>
  <p class="mini">Entre une s√©rie de nombres (s√©par√©s par virgules ou espaces)</p>
  <label>S√©rie :</label>
  <input id="dataInput" value="2, 4, 5, 7, 9, 12, 15" />
  <button class="btn" onclick="update()">Mettre √† jour</button>
  <p id="status"></p>
</div>

<!-- DEFINITIONS -->
<h2>1) D√©finitions</h2>

<div class="card">
  <h3>üìè √âtendue</h3>
  <p><strong>D√©finition :</strong> diff√©rence entre la valeur maximale et la valeur minimale.</p>
  <pre>√âtendue = max ‚àí min</pre>
</div>

<div class="card">
  <h3>üìä Quartiles</h3>
  <p><strong>D√©finition :</strong> valeurs qui partagent la s√©rie ordonn√©e en quatre parts.</p>
  <ul>
    <li><strong>Q1</strong> : au moins 25 % des valeurs sont ‚â§ Q1</li>
    <li><strong>Q2</strong> (m√©diane) : 50 % des valeurs</li>
    <li><strong>Q3</strong> : au moins 75 % des valeurs sont ‚â§ Q3</li>
  </ul>
</div>

<div class="card">
  <h3>üì¶ √âcart interquartile</h3>
  <p><strong>D√©finition :</strong> diff√©rence entre le troisi√®me et le premier quartile.</p>
  <pre>√âcart interquartile = Q3 ‚àí Q1</pre>
  <p class="note">
    ‚û°Ô∏è Il mesure la dispersion des <strong>50 % centraux</strong> des donn√©es.  
    <br>‚û°Ô∏è Il n‚Äôest <strong>pas influenc√©</strong> par les valeurs extr√™mes.
  </p>
</div>

<div class="card">
  <h3>üìê √âcart-type</h3>
  <p><strong>D√©finition :</strong> mesure l‚Äô√©loignement moyen des valeurs par rapport √† la moyenne.</p>
  <ul>
    <li>Petit ‚Üí valeurs regroup√©es</li>
    <li>Grand ‚Üí valeurs dispers√©es</li>
  </ul>
</div>

<!-- RESULTATS -->
<h2>2) Calculs automatiques</h2>

<div class="card">
  <p><strong>S√©rie ordonn√©e :</strong></p>
  <pre id="sorted"></pre>

  <p><strong>√âtendue :</strong></p>
  <pre id="range"></pre>

  <p><strong>Quartiles :</strong></p>
  <pre id="quartiles"></pre>

  <p><strong>√âcart interquartile :</strong></p>
  <pre id="iqr"></pre>

  <p><strong>Moyenne & √©cart-type :</strong></p>
  <pre id="sd"></pre>
</div>

<!-- TABLE COMPARATIVE -->
<h2>3) R√©capitulatif</h2>

<div class="card">
<table>
  <tr><th>Indicateur</th><th>Mesure</th></tr>
  <tr><td>√âtendue</td><td>Dispersion totale (max ‚àí min)</td></tr>
  <tr><td>√âcart interquartile</td><td>Dispersion centrale (Q3 ‚àí Q1)</td></tr>
  <tr><td>√âcart-type</td><td>Dispersion autour de la moyenne</td></tr>
</table>
</div>

<script>
function parseNumbers(str){
  const nums = str.split(/[,;\s]+/).map(Number);
  return nums.some(isNaN) ? null : nums;
}

function mean(a){ return a.reduce((s,x)=>s+x,0)/a.length; }

function stdDev(a){
  const m = mean(a);
  return Math.sqrt(a.reduce((s,x)=>s+(x-m)**2,0)/a.length);
}

function update(){
  const input = document.getElementById("dataInput").value;
  const status = document.getElementById("status");
  const nums = parseNumbers(input);

  if(!nums || nums.length < 2){
    status.textContent = "‚ùå S√©rie invalide";
    status.className = "err";
    return;
  }

  const s = [...nums].sort((a,b)=>a-b);
  const n = s.length;

  const Q1 = s[Math.ceil(n/4)-1];
  const Q3 = s[Math.ceil(3*n/4)-1];
  const median = n%2 ? s[(n-1)/2] : (s[n/2-1]+s[n/2])/2;

  document.getElementById("sorted").textContent = s.join(" ; ");
  document.getElementById("range").textContent = `${s.at(-1)} ‚àí ${s[0]} = ${s.at(-1)-s[0]}`;
  document.getElementById("quartiles").textContent =
    `Q1 = ${Q1}\nM√©diane = ${median}\nQ3 = ${Q3}`;
  document.getElementById("iqr").textContent =
    `Q3 ‚àí Q1 = ${Q3} ‚àí ${Q1} = ${Q3-Q1}`;
  document.getElementById("sd").textContent =
    `Moyenne ‚âà ${mean(s).toFixed(2)}\n√âcart-type ‚âà ${stdDev(s).toFixed(2)}`;

  status.textContent = "‚úÖ Calculs mis √† jour";
  status.className = "ok";
}

update();
</script>

</body>
</html>
